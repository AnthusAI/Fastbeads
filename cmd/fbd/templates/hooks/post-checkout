#!/usr/bin/env sh
# bd-shim v1
# bd-hooks-version: 0.49.6
#
# fbd (beads) post-checkout hook - thin shim
#
# This shim delegates to 'fbd hook post-checkout' which contains
# the actual hook logic. This pattern ensures hook behavior is always
# in sync with the installed fbd version - no manual updates needed.
#
# The 'fbd hook' command (singular) supports:
# - Guard against frequent firing (only imports if JSONL changed)
# - Per-worktree state tracking
# - Dolt branch-then-merge pattern
# - Hook chaining configuration

# Check if fbd is available
if ! command -v fbd >/dev/null 2>&1; then
    # Silently skip - post-checkout is called frequently
    exit 0
fi

exec fbd hook post-checkout "$@"
