# Test fbd search command

fbd init --prefix test

# Create issues with different attributes
fbd create 'Login authentication bug' --type bug --priority 1
fbd create 'Database refactor task' --type task --priority 3
fbd create 'User profile feature' --type feature

# Basic search by text
fbd search 'authentication'
stdout 'Login authentication bug'

# Search with status filter
fbd search 'bug' --status open
stdout 'Login authentication bug'

# Search with no results
fbd search 'nonexistent-term-xyz'
! stdout 'Login'
! stdout 'Database'

# Search with no query should fail
! fbd search --type task
stderr 'search query is required'
